# REST API
* 두 컴퓨터 시스템이 인터넷을 통해 정보를 안전하게 교환하기 위해 사용하는 인터페이스입니다.
* RESTful API : 안전하고 신뢰할 수 있으며 효율적인 소프트웨어 통신 표준을 따른 정보교환을 지원

## API
* 애플리케이션 프로그래밍 인터페이스(API)
* 다른 소프트웨어 시스템과 통신하기 위해 따라야 하는 규칙
* 클라이언트와 웹 리소스의 게이트웨이라고 생각할 수 있다.

### 클라이언트
* 웹에서 정보에 엑세스하려는 사용자
* API를 사용하는 사람이거나 소프트웨어 시스템일 수 있다.

### 리소스
* 다양한 애플리케이션이 클라이언트에 제공하는 정보
* 이미지 ,동영상, 텍스트 숫자 또는 모든 유형의 데이터
* 클라이언트에 리소스를 제공하는 시스템을 서버라고 한다.
* API를 사용하여 리소스를 공유하고 ,보안 ,제어 및 인증을 유지하면서 웹서비스를 제공
* 특정 내부 리소스에 액세스할 수 있는 클라이언트를 결정하는데 도움을 준다.

## REST(Representational State Transfer)
* API 작동 방식에 대한 조건을 부과하는 소프트웨어 아키텍처
* 초기 인터넷과 같은 복잡한 네트워크에서 통신을 관리하기 위한 지침으로 만들어졌다.
* REST 기반 아키텍처를 사용하여 대규모의 고성능 통신을 안정적으로 지원
* 쉽게 구현하고 수정할 수 있어 모든 API 시스템을 파악하고 여러 플랫폼에서 사용이 가능
- REST 아키텍처 스타일을 따른 API를 REST API라고 한다.

### 스타일 원칙
* 형식이 지정된 리소스를 REST에서 표현이라고 부른다.
* EX: 서버는 데이터를 텍스트로 저장하되 , HTML표현 형식으로 전송할 수 있다.

* 균일한 인터페이스는 모든 RESTful 웹 서비스 디자인의 기본
- 아키텍처 제약 조건
    1. 
    - 요청은 리소스를 식별해야한다.(균일한 리소스 식별자를 사용)
    2. 
    - 클라이언트는 원하는 경우 리소스를 수정하거나 삭제하기에 충분한 정보를 시소스 표현에서 가지고 있다.
    - 서버는 리소스를 자세힝 설명하는 메타데이터를 전송하여 이 조건을 충족
    3. 
    - 클라이언트는 표현을 추가로 처리하는 방법에 대한 정보를 수신
    - 이를 위해 서버는 클라이언트가 리소스를 적절하게 사용할 수 있는 방법에 대한 메타데이터가 포함된 명확한 메시지를 전송
    4. 
    - 클라이언트는 작업을 완료하는데 필요한 다른 모든 관련 리소스에 대한 정보를 수신
    - 이를 위해 서버는 클라이언트가 더 많은 리소스를 동적으로 검색할 수 있도록 표현에 하이퍼링크를 넣어 전송 

* 무상태
    * 서버가 이전의 모든 요청과 독립적으로 모든 클라이언트 요청을 완료하는 통신 방법
    * 클라이언트는 임의의 순서로 리소스를 요청할 수 있으며 모든 요청은 무상태이거나 다른 요청과 분리됨
    * 서버가 매번 요청을 완전히 이해해서 이행할 수 있음을 의미

* 계층화 시스템
    * 클라이언트는 클라이언트와 서버 사이의 다른 승인된 중개자에게 연결할 수 있으며 여전히 서버로부터도 응답을 받는다.
    * 서버는 요청을 다른 서버로 전달할 수도 있다.
    * 클라이언트 요청을 이행하기 위해 함께 작동하는 보안 ,애플리케이션 및 비즈니스 로직과 같은 여러 계층으로 여러 서버에서 실행되도록 설계할 수 있다.

* 캐시
    * 서버 응답 시간을 개선하기 위해 클라이언트 또는 중개자에 일부 응답을 저장하는 프로세스인 캐싱을 지원

* 온디맨드 코드
    * 서버는 소프트웨어 프로그래밍 코드를 클라이언트에 전송하여 클라이언트 기능을 일시적으로 확장하거나 사용자 지정할 수 있다.

### 이점
- 확장성
    * 클라이언트 - 서버 상호 작용을 최적화 하기 때문에 효율적으로 크기 조정 가능
    * 무상태는 서버가 과거 클라이언트 요청 정보를 유지할 필요가 없기 때문에 서버 로드를 제거 
    * 잘 관리된 캐싱은 일부 클라이언트-서버 상호 작용을 부분적으로 또는 완전히 제거
    * 위 기능을 통해 통신 병목 현상을 일으키지 않으면서 확장성을 지원

- 유연성
    * 완전한 클라이언트 -서버 분리를 지원
    * 서버의 플랫봄 또는 기술 변경은 클라이언트 애프리케이션에 영향을 주지 않는다.
    * 애플리케이션 함수를 계층화하는 기능은 유연성을 향상시킨다.
    * EX : 개발자는 애플리케이션 로직을 다시 작성하지 않고도 데이터베이스 계층을 변경할 수 있다.

- 독립성
    * REST API는 사용되는 기술과 독립적이다.
    * API 설계에 영향을 주지 않고 다양한 프로그래밍 언어로 클라이언트 및 서버 애플리케이션을 모두 작성할 수 있다.
    * 통신에 영향을 주지 않고 양쪽의 기본 기술을 변경할 수 있다.

### 작동 
* 기본 기능은 인터넷 브라우징과 동일
* 리소스가 필요할 때 API를 사용하여 서버에 접속
* API 개발자는 서버 애플리케이션 API문서에서 클라이언트가 REST API를 어떻게 사용해야 하는지 설명해 준다.
- 작동 순서
1. 클라이언트가 서버에 요청을 전송 => API문서에 따라 서버가 이해하는 방식으로 요청 형식을 지장
2. 서버가 클라이언트를 인증하고 해당 요청을 수행할 수 있는 권한이 클라이언트에 있는지 확인
3. 서버가 요청을 수신하고 내부적으로 처리
4. 서버가 클라이언트에 응답을 반환,
    - 응답 : 요청에 대한 값 , 성공 여부

### 요청
구성요소
- 고유 리소스 식별자
    - 서버는 고유한 리소스 식별자로 각 리소스를 식별
    - REST 서비스의 경우 일반적으로 URL 을 사용 및 리소스 식별 수행
    - URL은 리소스에 대한 경로 지정,웹페이지를 방문하기위해 브라우저에 입력하는 웹 사이트 주소와 유사
    - URL은 요청 엔드포인트라고도 하며 클라이언트가 요구하는 사항을 서버에 명확하게 지정

- 메서드
    - GET 
        * GET을 사용하여 서버의 지정된 URL에 있는 리소스에 액세스
        * GET 요청을 캐싱하고 RESTful API 요청에 파라미터를 넣어 전송하여 전송 전에 데이터를 필터링 하도록 서버에서 지시할 수 있다.

    - POST 
        * POST를 사용하여 서버에 데이터를 전송 
        * 요청과 함께 데이터 표현이 포함
        * 동일한 POST요청을 여러 번 전송하면 동일한 리소스를 여러 번 생성하는 부작용이 있다

    - PUT 
        * PUT을 사용하여 서버의 기존 리소스를 업데이트
        * RESTful 웹 서비스에서 동일한 PUT요청을 여러번 전송해도 결과는 동일

    - DELETE 
        * DELETE 요청을 사용하여 리소스를 제거
        * 서버 상태를 변경할 수 있다,
        * 적절한 인증이 없으면 요청은 실패된다.

- HTTP 헤더
    - 클라이언트와 서버 간에 교환되는 메타데이터
    - 데이터: POST,PUT 및 기타 HTTP메서드가 성공적으로 작동하기 위해 데이터가 포함될 수 있다.
    - 파라미터 : 수행해야 할 작업에 대한 자세한 정보를 서버에 제공하는 파라미터가 포함될 수 있다.
        * URL 세부정보를 지정하는 경로 파라미터
        * 리소스에 대한 추가 정보를 요청하는 쿼리 파라미터
        * 클라이언트를 빠르게 인증하는 쿠키 파라미터

### 인증
* 신원을 확인하는 프로세스
* RESTful 웹 서비스를 으답을 보내기 전에 먼저 요청을 인증해야한다.

- HTTP  인증
    - 기본 인증
    * 클라이언트는 요청 헤더에 사용자 이름과 암호를 넣어 전송
    * 안전한 전송을 위해 페어를 64자의 세트로 변환하는 인코딩 기술인 base64로 인코딩

    - 전달자 인증
    * 전달자(bearer)인증이라는 용어는 토큰 전달자에 대한 엑세스 제어를 제공하는 프로세스
    * 일반적으로 전달자 토큰은 서버가 로그인 요청에 대한 으답을 생성하는 암호화된 문자열
    * 클라이언트는 리소스에 엑세스하기 위해 요청 헤더에 토큰을 넣어 전송

- API 키
* REST API인증을 위한 또 다른 옵션
* 접근 방식 : 서버가 고유하게 생성된 값을 최초 클라이언트에 할당,클라이언트는 리소스에 엑세스하려고 할 때마다 고유한 API 키를 사용하여 본인을 검증
* 네트워크 도난에 취약

- OAuth
* 모든 시스템에 대해 매우 안전한 로그인 액세스를 보장하기 위해 암호와 토큰을 결합한것
* 서버는 먼저 암호를 오쳥한 다음 권한부여 프로세스를 완료하기 위해 추가 토큰을 요청
* 특정 범위와 수명으로 언제든지 토큰을 확인할 수 있다.


### 응답

- 상태 표시
* 요청 성공 또는 실패를 알리는 3자리 상태 코드가 있다.
    * 200: 일반 성공 응답
    * 201: POST 메서드 성공 응답
    * 400: 서버가 처리할 수 없는 잘못된 요청
    * 404: 리소스를 찾을 수 없음

- 메시지 본문
* 리소스 표현이 포함
* 서버: 요청 헤더에 포함된 내용을 기반으로 적절한 표현 형식 선택
* 클라이언트 : 데이터 작성 방식을 일반 텍스트로 정의하는 XML 또는 JSON 형식으로 정보를 요청
    * 서버는 클라이언트 요청에 맞는 값을 반환

- 헤더 
* 응답에는 으답에 대한 헤더 또는 메타데이터도 포함
* 응답에 대한 추가 켄텍스트를 제공하고 서버 ,인코딩 날짜 및 콘텐츠 유형과 같은 정보를 포함


```
    출처: https://aws.amazon.com/ko/what-is/restful-api/
```